<div class="container-fluid">
	<div class="row-fluid" id="special">
		<div class="col-md-9 content_space">	
		    <h1>Store Directory</h1>
            <ul class="nav nav-tabs">
                <li class="active tab_colour"><a href="#pane1" data-toggle="tab">A-Z</a></li>
                <li><a href="#pane2" data-toggle="tab">Categories</a></li>
            </ul>
            <div class="tab-content">
                <div id="pane1" class="pane1 tab-pane active"><div style="padding-left:4px">
                    <button class="btn-secondary" onClick="parent.location='#A'">A</button>
                    <button class="btn-secondary" onClick="parent.location='#B'">B</button>
                    <button class="btn-secondary" onClick="parent.location='#C'">C</button>
                    <button class="btn-secondary" onClick="parent.location='#D'">D</button>
                    <button class="btn-secondary" onClick="parent.location='#E'">E</button>
                    <button class="btn-secondary" onClick="parent.location='#F'">F</button>
                    <button class="btn-secondary" onClick="parent.location='#G'">G</button>
                    <button class="btn-secondary" onClick="parent.location='#H'">H</button>
                    <button class="btn-secondary" onClick="parent.location='#I'">I</button>
                    <button class="btn-secondary" onClick="parent.location='#J'">J</button>
                    <button class="btn-secondary" onClick="parent.location='#K'">K</button>
                    <button class="btn-secondary" onClick="parent.location='#L'">L</button>
                    <button class="btn-secondary" onClick="parent.location='#M'">M</button>
                    <button class="btn-secondary" onClick="parent.location='#N'">N</button>
                    <button class="btn-secondary" onClick="parent.location='#O'">O</button>
                    <button class="btn-secondary" onClick="parent.location='#P'">P</button>
                    <button class="btn-secondary" onClick="parent.location='#Q'">Q</button>
                    <button class="btn-secondary" onClick="parent.location='#R'">R</button>
                    <button class="btn-secondary" onClick="parent.location='#S'">S</button>
                    <button class="btn-secondary" onClick="parent.location='#T'">T</button>
                    <button class="btn-secondary" onClick="parent.location='#U'">U</button>
                    <button class="btn-secondary" onClick="parent.location='#V'">V</button>
                    <button class="btn-secondary" onClick="parent.location='#W'">W</button>
                    <button class="btn-secondary" onClick="parent.location='#X'">X</button>
                    <button class="btn-secondary" onClick="parent.location='#Y'">Y</button>
                    <button class="btn-secondary" onClick="parent.location='#Z'">Z</button></div>
                    
                    <div class="stores_table" id="store_list_container">
                        <script id="store_list_template" type="x-tmpl-mustache/text">
                            <div class="stores_table_headers row" style="{{show}}">
                		    	<a name={{initial}}></a> {{initial}}
                			</div>
                			<div class="row">
                				<span class="col-md-5 stores_row store_row_name"><a href="/stores/{{slug}}">{{name}}</a></span>
                				<span class="col-md-4 stores_row">{{phone}}</span>
                				<span class="col-md-3 stores_row  hidden-xs">{{header}}</span>
                			</div>
            			</script>
            		</div>
            	</div>
            	<div id="pane2" class="pane2 tab-pane">
    	            <div style="padding-left:4px" id="categories_container">
    	                <script id="categories_template" type="x-tmpl-mustache/text">
		                    <button class="btn-secondary" style="padding-left:10px;padding-right:10px" onClick="parent.location='#{{name}}'" name="{{name}}">{{name}}</button>
		                </script>
            		</div>
            		
            		<div class="stores_table" id="category_list_container">
            			<script id="category_list_template" type="x-tmpl-mustache/text">
                            <div class="row stores_table_headers" style="{{show}}">
                		    	<a name={{header}}></a>{{header}}
                			</div>
                			<div class="row">
                				<span class="col-md-5 stores_row store_row_name"><a href="/stores/{{slug}}">{{name}}</a></span>
                				<span class="col-md-3 stores_row">{{phone}}</span>
                				<span class="col-md-4 stores_row  hidden-phone">{{header}}</span>
                			</div>
            			</script>
            		</div>
            	</div>
            </div>
        </div>
        
        
    </div>
</div>
<script>
    $(document).ready(function(e){
        // init(e);
        loadMallDataCached(renderPage);
    })
    
    function renderPage(){
        var stores = getStoresList();
        var categories = getStoreCategories();
        console.log(stores);
        console.log(categories);
        renderStoreList('#store_list_container','#store_list_template', stores, "stores");
        // renderStoreList('#store_list_container_right','#store_list_template_right', stores, "stores");
        renderStoreListCatetories('#category_list_container','#category_list_template', categories, stores);
        renderGeneral('#categories_container', '#categories_template', categories);
    }
</script>